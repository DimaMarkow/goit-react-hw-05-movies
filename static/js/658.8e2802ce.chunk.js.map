{"version":3,"file":"static/js/658.8e2802ce.chunk.js","mappings":"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","sources":["components/BackLink/BackLink.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/moviesApi.jsx"],"sourcesContent":["import { HiArrowLeft } from 'react-icons/hi';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n`;\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </StyledLink>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"detailName\":\"MovieDetails_detailName__01CIA\",\"genresContainer\":\"MovieDetails_genresContainer__89sAX\",\"overview\":\"MovieDetails_overview__U5Vnb\",\"detailBasic\":\"MovieDetails_detailBasic__kkpc7\",\"detailBasicBold\":\"MovieDetails_detailBasicBold__Dy7kY\",\"detailBox\":\"MovieDetails_detailBox__RFYth\",\"detailImage\":\"MovieDetails_detailImage__kfBXz\",\"OutletContainer\":\"MovieDetails_OutletContainer__RY3CS\",\"searchbar\":\"MovieDetails_searchbar__boIEd\",\"ImageGalleryItem\":\"MovieDetails_ImageGalleryItem__8oyLT\",\"ImageGalleryItemImage\":\"MovieDetails_ImageGalleryItemImage__vgy8y\",\"ImageGalleryItem-image\":\"MovieDetails_ImageGalleryItem-image__3Ay7M\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Outlet, Link, useLocation } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\n\nimport { getMovieById } from 'services/moviesApi';\nimport { BackLink } from 'components/BackLink/BackLink';\n\nimport css from 'pages/MovieDetails/MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [genres, setGenres] = useState([{ mame: ' ' }]);\n\n  const [loading, setLoading] = useState(false);\n\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\n\n  let string = ``;\n\n  useEffect(() => {\n    setLoading(true);\n    getMovieById(id)\n      .then(data => {\n        setMovie(data);\n        setGenres(data.genres);\n      })\n      .catch(error => {\n        console.log(error.message);\n      })\n      .finally(() => setLoading(false));\n  }, [id]);\n\n  if (movie.poster_path) {\n    string = `https://image.tmdb.org/t/p/w400${movie.poster_path}`;\n  }\n\n  return (\n    <main>\n      <BackLink to={backLinkHref.current}>Go back</BackLink>\n      {loading && <Loader />}\n      <div className={css.detailBox}>\n        <img className={css.detailImage} src={string} alt=\"\" />\n        <div>\n          <h2 className={css.detailName}>{movie.original_title}</h2>\n          <p className={css.detailBasic}>\n            User Score: {(movie.vote_average * 10).toFixed(0)}%\n          </p>\n          <h3 className={css.overview}>Overview</h3>\n          <p className={css.detailBasic}>{movie.overview}</p>\n          <p className={css.detailBasicBold}>Genres</p>\n          <div className={css.genresContainer}>\n            {genres.map((genre, index) => (\n              <p key={index} className={css.detailBasic}>\n                {genre.name}\n              </p>\n            ))}\n          </div>\n        </div>\n      </div>\n      <p className={css.detailBasic}>Additional information</p>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/trending/movie/day',\n  params: {\n    api_key: '1798748ad7a054d7f6a9e9dee1e1d177',\n  },\n});\n\nexport const getTrendMovies = async () => {\n  const { data } = await instance.get('', {});\n  return data;\n};\n\nconst instanceByID = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/movie',\n  params: {\n    api_key: '1798748ad7a054d7f6a9e9dee1e1d177',\n  },\n});\n\nexport const getMovieById = async id => {\n  const { data } = await instanceByID.get(`/${id}`, {});\n  return data;\n};\n\nexport const getReviewsById = async id => {\n  const { data } = await instanceByID.get(`/${id}/reviews`, {});\n  return data;\n};\n\nexport const getCastById = async id => {\n  const { data } = await instanceByID.get(`/${id}/credits`, {});\n  return data;\n};\n\nconst instanceSearch = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/search/movie',\n  params: {\n    api_key: '1798748ad7a054d7f6a9e9dee1e1d177',\n  },\n});\n\nexport const getSearchedMovie = async filter => {\n  const { data } = await instanceSearch.get(``, {\n    params: { query: filter },\n  });\n  return data;\n};\n\n// https://api.themoviedb.org/3/search/movie\n\n// export const searchImages = async (search, page) => {\n//   const { data } = await instance.get('/', {\n//     params: { query: search, page: page },\n//   });\n//   return data;\n// };\n\n// fetch(\n//   `https://pixabay.com/api/?key=31955836-4f23a30b6c1dc45c2c659779e&q=${this.props.filter}&image_type=photo&per_page=12&page=1`\n// )\n//   .then(res => {\n//     if (res.ok) {\n//       return res.json();\n//     }\n//     return Promise.reject(\n//       new Error(`Нет фото соответствующих ${this.props.filter}`)\n//     );\n//   })\n//   .then(data => {\n//     this.setState({ images: data.hits });\n//   })\n//   .catch(error => {\n//     this.setState({ error });\n//   })\n//   .finally(() => this.setState({ loading: false }));\n"],"names":["StyledLink","styled","Link","BackLink","to","children","size","useState","movie","setMovie","mame","genres","setGenres","loading","setLoading","id","useParams","location","useLocation","backLinkHref","useRef","state","from","string","useEffect","getMovieById","then","data","catch","error","console","log","message","finally","poster_path","current","Loader","className","css","src","alt","original_title","vote_average","toFixed","overview","map","genre","index","name","Suspense","fallback","instance","axios","baseURL","params","api_key","getTrendMovies","get","instanceByID","getReviewsById","getCastById","instanceSearch","getSearchedMovie","filter","query"],"sourceRoot":""}